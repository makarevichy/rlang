<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Parse R code — parse_expr • rlang</title>

<link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.1/clipboard.min.js" integrity="sha256-hIvIxeqhGZF+VVeM55k0mJvWpQ6gTkWk3Emc+NmowYA=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Parse R code — parse_expr" />

<meta property="og:description" content="These functions parse and transform text into R expressions. This
is the first step to interpret or evaluate a piece of R code
written by a programmer." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rlang</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../reference/lifecycle.html">Life cycle</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/rlang">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Parse R code</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/rlang/blob/master/R/parse.R'><code>R/parse.R</code></a></small>
    <div class="hidden name"><code>parse_expr.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>These functions parse and transform text into R expressions. This
is the first step to interpret or evaluate a piece of R code
written by a programmer.</p>
    
    </div>

    <pre class="usage"><span class='fu'>parse_expr</span>(<span class='no'>x</span>)

<span class='fu'>parse_exprs</span>(<span class='no'>x</span>)

<span class='fu'>parse_quo</span>(<span class='no'>x</span>, <span class='no'>env</span>)

<span class='fu'>parse_quos</span>(<span class='no'>x</span>, <span class='no'>env</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Text containing expressions to parse_expr for
<code>parse_expr()</code> and <code>parse_exprs()</code>. Can also be an R connection,
for instance to a file. If the supplied connection is not open,
it will be automatically closed and destroyed.</p></td>
    </tr>
    <tr>
      <th>env</th>
      <td><p>The environment for the quosures. Depending on the use
case, a good default might be the <a href='search_envs.html'>global environment</a> but you might also want to evaluate the
R code in an isolated context (perhaps a child of the global
environment or of the <a href='search_envs.html'>base environment</a>).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>parse_expr()</code> returns an <a href='is_expression.html'>expression</a>,
<code>parse_exprs()</code> returns a list of expressions. Note that for the
plural variants the length of the output may be greater than the
length of the input. This would happen is one of the strings
contain several expressions (such as <code>"foo; bar"</code>).</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>parse_expr()</code> returns one expression. If the text contains more
than one expression (separated by semicolons or new lines), an error is
issued. On the other hand <code>parse_exprs()</code> can handle multiple
expressions. It always returns a list of expressions (compare to
<code><a href='http://www.rdocumentation.org/packages/base/topics/parse'>base::parse()</a></code> which returns a base::expression vector). All
functions also support R connections.</p>
<p>The versions suffixed with <code>_quo</code> and <code>_quos</code> return
<a href='quotation.html'>quosures</a> rather than raw expressions.</p>
    
    <h2 class="hasAnchor" id="life-cycle"><a class="anchor" href="#life-cycle"></a>Life cycle</h2>

    
    <ul>
<li><p><code><a href='parse_quosure.html'>parse_quosure()</a></code> and <code><a href='parse_quosure.html'>parse_quosures()</a></code> were soft-deprecated in
rlang 0.2.0 and renamed to <code>parse_quo()</code> and <code>parse_quos()</code>. This
is consistent with the rule that abbreviated suffixes indicate
the return type of a function.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='http://www.rdocumentation.org/packages/base/topics/parse'>base::parse()</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># parse_expr() can parse any R expression:</span>
<span class='fu'>parse_expr</span>(<span class='st'>"mtcars %&gt;% dplyr::mutate(cyl_prime = cyl / sd(cyl))"</span>)</div><div class='output co'>#&gt; mtcars %&gt;% dplyr::mutate(cyl_prime = cyl/sd(cyl))</div><div class='input'>
<span class='co'># A string can contain several expressions separated by ; or \n</span>
<span class='fu'>parse_exprs</span>(<span class='st'>"NULL; list()\n foo(bar)"</span>)</div><div class='output co'>#&gt; [[1]]
#&gt; NULL
#&gt; 
#&gt; [[2]]
#&gt; list()
#&gt; 
#&gt; [[3]]
#&gt; foo(bar)
#&gt; </div><div class='input'>
<span class='co'># You can also parse source files by passing a R connection. Let's</span>
<span class='co'># create a file containing R code:</span>
<span class='no'>path</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>(<span class='st'>"my-file.R"</span>)
<span class='fu'>cat</span>(<span class='st'>"1; 2; mtcars"</span>, <span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>path</span>)

<span class='co'># We can now parse it by supplying a connection:</span>
<span class='fu'>parse_exprs</span>(<span class='fu'>file</span>(<span class='no'>path</span>))</div><div class='output co'>#&gt; [[1]]
#&gt; [1] 1
#&gt; 
#&gt; [[2]]
#&gt; [1] 2
#&gt; 
#&gt; [[3]]
#&gt; mtcars
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#life-cycle">Life cycle</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Lionel Henry, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

